{"version":3,"sources":["webpack:///./src/components/Upload/UploadOneImg.vue?60a1","webpack:///./src/views/account/basicInfo.vue?da8a","webpack:///./src/views/account/basicInfo.vue?78a6","webpack:///./src/components/Upload/UploadOneImg.vue?25b6","webpack:///src/components/Upload/UploadOneImg.vue","webpack:///./src/components/Upload/UploadOneImg.vue?2650","webpack:///./src/components/Upload/UploadOneImg.vue","webpack:///src/views/account/basicInfo.vue","webpack:///./src/views/account/basicInfo.vue?02ac","webpack:///./src/views/account/basicInfo.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","slot","_v","ref","formInline","ruleInline","staticStyle","model","value","callback","$$v","$set","expression","editBasic","loading","on","$event","handleSubmit","_s","txt","avatar","uploadImg","staticRenderFns","staticClass","imgUrl","nativeOn","handleView","postUrl","requestHeader","uploadSuccess","formatError","exceededSizeError","visible","_e","component"],"mappings":"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","file":"static/js/chunk-eec34462.14d28129.js","sourcesContent":["export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./UploadOneImg.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./basicInfo.vue?vue&type=style&index=0&id=e59f07c4&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Card',{attrs:{\"bordered\":false,\"dis-hover\":\"\"}},[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('Icon',{attrs:{\"type\":\"md-options\"}}),_vm._v(\" 基本信息 \")],1),_c('Form',{ref:\"formInline\",attrs:{\"model\":_vm.formInline,\"rules\":_vm.ruleInline,\"label-position\":\"top\"}},[_c('Row',{attrs:{\"gutter\":10}},[_c('Col',{attrs:{\"span\":\"9\"}},[_c('FormItem',{attrs:{\"prop\":\"username\",\"label\":\"用户名(登录名)\"}},[_c('Input',{staticStyle:{\"width\":\"550px\"},attrs:{\"type\":\"text\",\"disabled\":\"\"},model:{value:(_vm.formInline.username),callback:function ($$v) {_vm.$set(_vm.formInline, \"username\", $$v)},expression:\"formInline.username\"}})],1),_c('FormItem',{attrs:{\"prop\":\"nickname\",\"label\":\"昵称\"}},[_c('Input',{staticStyle:{\"width\":\"550px\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入昵称\"},model:{value:(_vm.formInline.nickname),callback:function ($$v) {_vm.$set(_vm.formInline, \"nickname\", $$v)},expression:\"formInline.nickname\"}})],1),_c('FormItem',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\"}},[_c('Input',{staticStyle:{\"width\":\"550px\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入邮箱\"},model:{value:(_vm.formInline.email),callback:function ($$v) {_vm.$set(_vm.formInline, \"email\", $$v)},expression:\"formInline.email\"}})],1),_c('FormItem',{attrs:{\"prop\":\"mark\",\"label\":\"个人介绍\"}},[_c('Input',{staticStyle:{\"width\":\"550px\"},attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入个人介绍\"},model:{value:(_vm.formInline.mark),callback:function ($$v) {_vm.$set(_vm.formInline, \"mark\", $$v)},expression:\"formInline.mark\"}})],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\",\"loading\":_vm.editBasic.loading},on:{\"click\":function($event){return _vm.handleSubmit('formInline')}}},[_vm._v(_vm._s(_vm.editBasic.txt))])],1)],1),_c('Col',{attrs:{\"span\":\"15\"}},[_c('FormItem',{attrs:{\"prop\":\"avatar\",\"label\":\"头像\"}},[_c('div',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('Poptip',{attrs:{\"trigger\":\"hover\",\"word-wrap\":\"\",\"width\":\"200\",\"content\":\"只能上传jpg、jpeg、png格式;大小不能超过2M\",\"transfer\":true}},[_c('Icon',{attrs:{\"type\":\"ios-alert-outline\"}})],1),_c('span',[_vm._v(\" 头像\")])],1),_c('UploadOneImg',{attrs:{\"img\":_vm.formInline.avatar},on:{\"uploadImg\":_vm.uploadImg}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-pic\"},[(_vm.imgUrl != '')?_c('div',{staticClass:\"demo-upload-list\"},[[_c('img',{attrs:{\"src\":_vm.imgUrl}}),_c('div',{staticClass:\"demo-upload-list-cover\"},[_c('Icon',{attrs:{\"type\":\"ios-eye-outline\"},nativeOn:{\"click\":function($event){return _vm.handleView()}}})],1)]],2):[_c('Avatar',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"shape\":\"square\",\"icon\":\"ios-person\",\"size\":\"90\",\"src\":_vm.imgUrl}})],_c('Upload',{attrs:{\"show-upload-list\":false,\"format\":['jpg','jpeg','png'],\"max-size\":1024 * 1024 * 2,\"action\":_vm.postUrl,\"headers\":_vm.requestHeader,\"on-success\":_vm.uploadSuccess,\"on-format-error\":_vm.formatError,\"on-exceeded-size\":_vm.exceededSizeError}},[_c('Button',{attrs:{\"icon\":\"md-camera\"}},[_vm._v(\"修改头像\")])],1),_c('Modal',{attrs:{\"title\":\"查看头像\",\"draggable\":true,\"footer-hide\":true},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[(_vm.visible)?_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"src\":_vm.imgUrl}}):_vm._e()])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"upload-pic\">\r\n        <div class=\"demo-upload-list\"  v-if=\"imgUrl != ''\">\r\n            <template>\r\n                <img :src=\"imgUrl\">\r\n                <div class=\"demo-upload-list-cover\">\r\n                    <Icon type=\"ios-eye-outline\" @click.native=\"handleView()\"></Icon>\r\n                </div>\r\n            </template>\r\n        </div>\r\n        <template v-else>\r\n            <Avatar shape=\"square\"\r\n                    icon=\"ios-person\"\r\n                    size=\"90\"\r\n                    :src=\"imgUrl\"\r\n                    style=\"margin-bottom: 20px;\"/>\r\n        </template>\r\n        <Upload :show-upload-list=\"false\"\r\n                :format=\"['jpg','jpeg','png']\"\r\n                :max-size=\"1024 * 1024 * 2\"\r\n                :action=\"postUrl\"\r\n                :headers=\"requestHeader\"\r\n                :on-success=\"uploadSuccess\"\r\n                :on-format-error=\"formatError\"\r\n                :on-exceeded-size=\"exceededSizeError\">\r\n            <Button icon=\"md-camera\">修改头像</Button>\r\n        </Upload>\r\n\r\n        <Modal title=\"查看头像\" v-model=\"visible\" :draggable=\"true\" :footer-hide=\"true\">\r\n            <img :src=\"imgUrl\" v-if=\"visible\" style=\"width: 100%\">\r\n        </Modal>\r\n    </div>\r\n</template>\r\n<style>\r\n    .demo-upload-list{\r\n        display: inline-block;\r\n        width: 90px;\r\n        height: 90px;\r\n        text-align: center;\r\n        line-height: 90px;\r\n        border: 1px solid transparent;\r\n        border-radius: 4px;\r\n        overflow: hidden;\r\n        background: #fff;\r\n        position: relative;\r\n        box-shadow: 0 1px 1px rgba(0,0,0,.2);\r\n        margin-right: 4px;\r\n    }\r\n    .demo-upload-list img{\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n    .demo-upload-list-cover{\r\n        display: none;\r\n        position: absolute;\r\n        top: 0;\r\n        bottom: 0;\r\n        left: 0;\r\n        right: 0;\r\n        background: rgba(0,0,0,.6);\r\n    }\r\n    .demo-upload-list:hover .demo-upload-list-cover{\r\n        display: block;\r\n    }\r\n    .demo-upload-list-cover i{\r\n        color: #fff;\r\n        font-size: 20px;\r\n        cursor: pointer;\r\n        margin: 0 2px;\r\n    }\r\n</style>\r\n<script>\r\n    export default {\r\n        name: 'UploadOneImg',\r\n        props: {\r\n            // 图片地址\r\n            img: {\r\n                type: String,\r\n                default:''\r\n            },\r\n        },\r\n        data() {\r\n            return {\r\n                requestHeader: '',//附件上传请求头\r\n                imgUrl:'',\r\n                visible: false,\r\n                postUrl: 'api'+this.HTTPURL.COMMON.UPLOAD.UPLOAD_ONE_IMG\r\n            }\r\n        },\r\n        watch: {\r\n            img(){\r\n                this.imgUrl = this.img;\r\n            }\r\n        },\r\n        mounted: function() {},\r\n        created() {\r\n            // 设置文件按上传请求头\r\n            this.requestHeader = {\r\n                'Authorization': 'Bearer ' + sessionStorage.getItem('token'),\r\n            }\r\n        },\r\n        methods: {\r\n            //上传成功的钩子函数\r\n            uploadSuccess(res, file, fileList){\r\n                const that = this;\r\n                if(res.code == 200){\r\n                    if(res.data.status == 1){\r\n                        that.$Message.success({\r\n                            content:'上传成功',\r\n                            onClose:function () {\r\n                                that.imgUrl = res.data.data;\r\n                                that.$emit('uploadImg',res.data.data)\r\n                            }\r\n                        })\r\n                    }else{\r\n                        that.$Message.error({\r\n                            content:res.data.message,\r\n                        })\r\n                    }\r\n                }\r\n            },\r\n            handleView () {\r\n                this.visible = true;\r\n            },\r\n            formatError () {\r\n                this.$Message.error({\r\n                    content:'只能上传jpeg、png、jpg格式',\r\n                })\r\n            },\r\n            exceededSizeError () {\r\n                this.$Message.error({\r\n                    content:'只能上传不大于2M的图片',\r\n                })\r\n            },\r\n\r\n\r\n        }\r\n    }\r\n</script>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./UploadOneImg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./UploadOneImg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadOneImg.vue?vue&type=template&id=ed391e32&\"\nimport script from \"./UploadOneImg.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadOneImg.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadOneImg.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\r\n    <Card :bordered=\"false\" dis-hover>\r\n        <p slot=\"title\">\r\n            <Icon type=\"md-options\"></Icon>&nbsp;基本信息\r\n        </p>\r\n            <!--基本信息开始-->\r\n                <Form ref=\"formInline\" :model=\"formInline\" :rules=\"ruleInline\" label-position=\"top\">\r\n                <Row :gutter=\"10\">\r\n                    <Col span=\"9\">\r\n                            <FormItem prop=\"username\" label=\"用户名(登录名)\">\r\n                                <Input type=\"text\" v-model=\"formInline.username\"  disabled style=\"width:550px;\"></Input>\r\n                            </FormItem>\r\n                            <FormItem prop=\"nickname\" label=\"昵称\">\r\n                                <Input type=\"text\" v-model=\"formInline.nickname\" placeholder=\"请输入昵称\" style=\"width:550px;\"></Input>\r\n                            </FormItem>\r\n                            <FormItem prop=\"email\" label=\"邮箱\">\r\n                                <Input type=\"text\" v-model=\"formInline.email\" placeholder=\"请输入邮箱\" style=\"width:550px;\"></Input>\r\n                            </FormItem>\r\n                            <FormItem prop=\"mark\" label=\"个人介绍\">\r\n                                <Input type=\"textarea\" v-model=\"formInline.mark\" placeholder=\"请输入个人介绍\" style=\"width:550px;\"></Input>\r\n                            </FormItem>\r\n                            <FormItem>\r\n                                <Button type=\"primary\" :loading=\"editBasic.loading\" @click=\"handleSubmit('formInline')\">{{editBasic.txt}}</Button>\r\n                            </FormItem>\r\n                    </Col>\r\n                    <Col span=\"15\">\r\n                        <FormItem prop=\"avatar\" label=\"头像\">\r\n                            <div slot=\"label\">\r\n                                <Poptip trigger=\"hover\" word-wrap width=\"200\" content=\"只能上传jpg、jpeg、png格式;大小不能超过2M\" :transfer=\"true\">\r\n                                    <Icon type=\"ios-alert-outline\" />\r\n                                </Poptip>\r\n                                <span> 头像</span>\r\n                            </div>\r\n                            <!--单图片上传组件-->\r\n                            <UploadOneImg :img=\"formInline.avatar\" @uploadImg=\"uploadImg\"></UploadOneImg>\r\n                        </FormItem>\r\n                    </Col>\r\n                </Row>\r\n                </Form>\r\n            <!--基本信息结束-->\r\n    </Card>\r\n\r\n</template>\r\n<script>\r\n  import UploadOneImg from '../../components/Upload/UploadOneImg'\r\n  export default {\r\n      components: {UploadOneImg},\r\n    data () {\r\n        return {\r\n            editBasic:{\r\n                loading:false,\r\n                txt:'更新信息'\r\n            },\r\n            formInline: {\r\n                username:'',\r\n                nickname: '',\r\n                email: '',\r\n                mark:'',\r\n                avatar:''\r\n            },\r\n            ruleInline: {\r\n                nickname: [\r\n                    { required: true, message: '请输入昵称', trigger: 'blur' },\r\n                    { type: 'string', max: 8, message: '昵称最多为8个字符', trigger: 'blur' }\r\n                ],\r\n                email: [\r\n                    { required: true, message: '请输入邮箱地址', trigger: 'blur' },\r\n                    { type: 'email', message: '邮箱地址格式错误', trigger: 'blur' }\r\n                ],\r\n                mark: [\r\n                    { type: 'string', max:30, message: '个人描述最多30个字符', trigger: 'blur' }\r\n                ]\r\n            },\r\n        }\r\n    },\r\n      activated() {\r\n        this.getUserInfo();\r\n      },\r\n      methods: {\r\n          //通过子组件传过来的地址修改\r\n          uploadImg(data){\r\n              this.formInline.avatar = data;\r\n          },\r\n        //获取个人信息\r\n        getUserInfo(){\r\n            const that =this;\r\n            let successCallback = function(res){\r\n                that.formInline = res.data.data;\r\n            }\r\n            that.HTTPJS.get(that.HTTPURL.COMMON.ACCOUNT.GET_USER_INFO,{},successCallback);\r\n        },\r\n        //修改基本信息\r\n          handleSubmit(name) {\r\n              const that =this;\r\n              this.$refs[name].validate((valid) => {\r\n                  if (valid) {\r\n                      that.editBasic.txt = '正在修改信息...';\r\n                      that.editBasic.loading = true;\r\n                      let successCallback = function(res){\r\n                          that.$Message.info({\r\n                              content:'修改成功',\r\n                              onClose:function () {\r\n                                  that.editBasic.loading = false;\r\n                                  that.editBasic.txt = '更新信息';\r\n                                  sessionStorage.setItem('userInfo',JSON.stringify(res.data.data));\r\n                              }\r\n                          })\r\n                      }\r\n                      let failCallback = function(res){\r\n                          that.$Message.error({\r\n                              content:res.data.message,\r\n                              onClose:function () {\r\n                                  that.editBasic.loading = false;\r\n                                  that.editBasic.txt = '更新信息';\r\n                              }\r\n                          })\r\n                      }\r\n                      that.HTTPJS.post(that.HTTPURL.COMMON.ACCOUNT.EDIT_USER_INFO,that.formInline,successCallback,failCallback);\r\n                  }\r\n              })\r\n          },\r\n      }\r\n  }\r\n</script>\r\n<style scoped>\r\n  @import \"../../assets/style/category.css\";\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./basicInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./basicInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./basicInfo.vue?vue&type=template&id=e59f07c4&scoped=true&\"\nimport script from \"./basicInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./basicInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./basicInfo.vue?vue&type=style&index=0&id=e59f07c4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e59f07c4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}